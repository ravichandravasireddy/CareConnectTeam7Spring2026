<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WCAG Contrast Checker - CareConnect Flutter App</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #212121;
            border-bottom: 3px solid #2E60BE;
            padding-bottom: 10px;
        }
        .checker-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .color-input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: center;
        }
        .color-input-group label {
            min-width: 120px;
            font-weight: 500;
        }
        input[type="color"] {
            width: 60px;
            height: 40px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        input[type="text"] {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        button {
            background-color: #2E60BE;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        button:hover {
            background-color: #1565C0;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #2E60BE;
            background-color: #f9f9f9;
        }
        .result h3 {
            margin-top: 0;
        }
        .ratio {
            font-size: 24px;
            font-weight: bold;
            color: #2E60BE;
        }
        .pass {
            color: #006605;
            font-weight: bold;
        }
        .fail {
            color: #C62828;
            font-weight: bold;
        }
        .preview {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }
        .preview-box {
            flex: 1;
            padding: 20px;
            border-radius: 4px;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #ddd;
        }
        .preview-text {
            font-size: 18px;
            font-weight: 500;
        }
        .table-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
            overflow-x: auto;
        }
        h2 {
            color: #212121;
            border-bottom: 2px solid #2E60BE;
            padding-bottom: 8px;
            margin-top: 40px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th {
            background-color: #2E60BE;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        td {
            padding: 10px 12px;
            border-bottom: 1px solid #E0E0E0;
        }
        tr:hover {
            background-color: #f9f9f9;
        }
        .ratio-cell {
            font-weight: bold;
            font-family: monospace;
        }
        .pass-badge {
            color: #006605;
            font-weight: bold;
        }
        .fail-badge {
            color: #C62828;
            font-weight: bold;
        }
        .color-preview {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 1px solid #ddd;
            border-radius: 3px;
            vertical-align: middle;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <h1>WCAG 2.1 Contrast Ratio Checker</h1>
    <p>Enter foreground and background colors to check WCAG AA compliance (4.5:1 for normal text, 3:1 for large text).</p>
    
    <div class="checker-container">
        <div class="color-input-group">
            <label>Foreground:</label>
            <input type="color" id="fgColor" value="#212121">
            <input type="text" id="fgHex" value="#212121" placeholder="#RRGGBB">
        </div>
        <div class="color-input-group">
            <label>Background:</label>
            <input type="color" id="bgColor" value="#FFFFFF">
            <input type="text" id="bgHex" value="#FFFFFF" placeholder="#RRGGBB">
        </div>
        <button onclick="checkContrast()">Check Contrast</button>
        
        <div id="result" class="result" style="display: none;">
            <h3>Contrast Results</h3>
            <div class="ratio" id="ratio"></div>
            <div id="aa-normal"></div>
            <div id="aa-large"></div>
            <div id="aaa-normal"></div>
            <div id="aaa-large"></div>
            <div class="preview">
                <div class="preview-box" id="previewBox">
                    <span class="preview-text" id="previewText">Sample Text</span>
                </div>
            </div>
        </div>
    </div>

    <h2>All App Color Combinations</h2>
    <div class="table-container">
        <table id="colorTable">
            <thead>
                <tr>
                    <th>Foreground</th>
                    <th>Background</th>
                    <th>Theme Label</th>
                    <th>Usage Example</th>
                    <th>WCAG Ratio</th>
                    <th>Passes AA?</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Rows will be populated by JavaScript -->
            </tbody>
        </table>
    </div>

    <script src="contrast-checker.js"></script>
    <script>
        // Color combinations data from markdown
        const colorCombinations = [
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'primary/onPrimary', usage: 'Primary buttons, Sign In button'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'primary700/white', usage: 'Welcome screen gradient, drawer header'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Get Started button text, links'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'secondary/onSecondary', usage: 'Secondary buttons'},
            {fg: '#FFFFFF', bg: '#7B1FA2', theme: 'tertiary/onTertiary', usage: 'Tertiary buttons, appointment cards'},
            {fg: '#FFFFFF', bg: '#C62828', theme: 'error/onError', usage: 'Error buttons, Emergency SOS button'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/surface', usage: 'Primary text on white backgrounds'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/surface', usage: 'Secondary text, hints'},
            {fg: '#212121', bg: '#F5F5F5', theme: 'onSurface/surfaceContainer', usage: 'Text on light gray backgrounds'},
            {fg: '#616161', bg: '#F5F5F5', theme: 'onSurfaceVariant/surfaceContainer', usage: 'Secondary text on containers'},
            {fg: '#2E60BE', bg: '#E3ECFC', theme: 'primary/primary100', usage: 'Primary icon on light primary background'},
            {fg: '#7B1FA2', bg: '#E1BEE7', theme: 'tertiary/accent100', usage: 'Accent icon on light accent background'},
            {fg: '#00796B', bg: '#DFF6F4', theme: 'secondary/secondary100', usage: 'Secondary icon on light secondary background'},
            {fg: '#006605', bg: '#DDF4DD', theme: 'success700/success100', usage: 'Success icon on light success background'},
            {fg: '#C62828', bg: '#FFE5E8', theme: 'error700/error100', usage: 'Error icon on light error background'},
            {fg: '#212121', bg: '#E0E0E0', theme: 'onSurface/outline', usage: 'Text on borders/outlines'},
            {fg: '#FFFFFF', bg: '#121212', theme: 'white/darkBgPrimary', usage: 'Text on dark video call background'},
            {fg: '#FFFFFF', bg: '#1E1E1E', theme: 'white/darkBgSecondary', usage: 'Text on dark secondary background'},
            {fg: '#B3B3B3', bg: '#121212', theme: 'darkTextSecondary/darkBgPrimary', usage: 'Secondary text on dark background'},
            {fg: '#FFFFFF', bg: '#2C2C2C', theme: 'white/darkBgElevated', usage: 'Text on elevated dark surfaces'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Error text/icons on white'},
            {fg: '#2E60BE', bg: '#E3ECFC', theme: 'primary/primary100', usage: 'Role card icons (Care Recipient)'},
            {fg: '#7B1FA2', bg: '#E1BEE7', theme: 'tertiary/accent100', usage: 'Role card icons (Caregiver)'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/surface', usage: 'Form labels, input text'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/surface', usage: 'Input hints, placeholders'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Focus borders, links'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'onPrimary/primary', usage: 'Welcome screen text on gradient'},
            {fg: '#FFFFFF', bg: '#7B1FA2', theme: 'onPrimary/tertiary', usage: 'Welcome screen gradient end'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Patient dashboard welcome card text'},
            {fg: '#006605', bg: '#DDF4DD', theme: 'success700/success100', usage: 'Tasks completed icon'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Medication task due text'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'View All button text'},
            {fg: '#7B1FA2', bg: '#FFFFFF', theme: 'tertiary/surface', usage: 'Appointment card icon background'},
            {fg: '#FFFFFF', bg: '#7B1FA2', theme: 'onTertiary/tertiary', usage: 'Video call icon on appointment card'},
            {fg: '#00796B', bg: '#FFFFFF', theme: 'secondary/surface', usage: 'Log Health Data button'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Send Message button'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Emergency SOS button text'},
            {fg: '#FFFFFF', bg: '#C62828', theme: 'onError/error', usage: 'Emergency SOS button background'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Bottom nav selected icon'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/surface', usage: 'Bottom nav unselected icon'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'onPrimary/primary', usage: 'Drawer header text'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/onPrimary', usage: 'Drawer avatar initials'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error/white', usage: 'Sign Out button text'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/surface', usage: 'Notes screen Add New Note button text'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'onPrimary/primary', usage: 'Notes screen Add New Note button bg'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/surface', usage: 'Note list item title'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/surface', usage: 'Note list item author/time'},
            {fg: '#FFFFFF', bg: '#121212', theme: 'white/darkBgPrimary', usage: 'Video call screen text'},
            {fg: '#FFFFFF', bg: '#1E1E1E', theme: 'white/darkBgSecondary', usage: 'Video call control bar'},
            {fg: '#FFFFFF', bg: '#2C2C2C', theme: 'white/darkBgElevated', usage: 'Video call buttons (mic/video on)'},
            {fg: '#FFFFFF', bg: '#C62828', theme: 'white/error700', usage: 'Video call buttons (mic/video off)'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Emergency alert screen text'},
            {fg: '#FFFFFF', bg: '#C62828', theme: 'white/error700', usage: 'Emergency alert screen background'},
            {fg: '#C62828', bg: '#FFE5E8', theme: 'error700/error100', usage: 'Emergency alert icon'},
            {fg: '#FFFFFF', bg: '#C62828', theme: 'white/error700', usage: 'Emergency alert patient info box'},
            {fg: '#00796B', bg: '#FFFFFF', theme: 'secondary700/white', usage: 'Emergency alert avatar initials'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'white/secondary700', usage: 'Emergency alert avatar background'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Location icon'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Acknowledge Alert button text'},
            {fg: '#006605', bg: '#FFFFFF', theme: 'success700/white', usage: 'Alert acknowledged checkmark'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Calendar month navigation arrows'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Calendar day labels'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Calendar date numbers'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Calendar today date background'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Calendar selected date border'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Calendar task indicator dot'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Notification card title'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Notification card summary/time'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Notification unread indicator dot'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Notification medication type avatar'},
            {fg: '#FFFFFF', bg: '#7B1FA2', theme: 'white/tertiary', usage: 'Notification message type avatar'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'white/secondary', usage: 'Notification appointment type avatar'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Mark all as read button'},
            {fg: '#00796B', bg: '#FFFFFF', theme: 'secondary700/white', usage: 'Profile screen avatar initials'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'white/secondary700', usage: 'Profile screen avatar background'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Edit Profile button text'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Edit Profile button background'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Profile info item labels'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Profile info item values'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Preferences icon'},
            {fg: '#7B1FA2', bg: '#FFFFFF', theme: 'tertiary/white', usage: 'Notification settings icon'},
            {fg: '#006605', bg: '#FFFFFF', theme: 'success700/white', usage: 'Connected Caregivers icon'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Sign Out button border/text'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Messaging thread send button'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Messaging thread send button bg'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Current user message bubble'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Other user message bubble'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Current user message text'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Other user message text'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Message timestamp'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Message avatar (current user)'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'white/secondary', usage: 'Message avatar (other user)'},
            {fg: '#616161', bg: '#F5F5F5', theme: 'onSurfaceVariant/surfaceContainer', usage: 'Typing indicator dots'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Health Logs Add a Log button text'},
            {fg: '#FFFFFF', bg: '#2E60BE', theme: 'white/primary', usage: 'Health Logs Add a Log button bg'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Quick Log button labels'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Latest log card titles'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Latest log card descriptions'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Add circle icon on placeholder cards'},
            {fg: '#00796B', bg: '#FFFFFF', theme: 'secondary700/white', usage: 'Status chip text (blood pressure/heart rate)'},
            {fg: '#FFFFFF', bg: '#00796B', theme: 'white/secondary700', usage: 'Status chip background'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Progress bar fill'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Caregiver dashboard stat icons'},
            {fg: '#0277BD', bg: '#FFFFFF', theme: 'info700/white', usage: 'Patients stat icon'},
            {fg: '#006605', bg: '#FFFFFF', theme: 'success700/white', usage: 'Tasks stat icon'},
            {fg: '#C62828', bg: '#FFFFFF', theme: 'error700/white', usage: 'Alerts stat icon'},
            {fg: '#212121', bg: '#FFFFFF', theme: 'onSurface/white', usage: 'Task card titles'},
            {fg: '#616161', bg: '#FFFFFF', theme: 'onSurfaceVariant/white', usage: 'Task card patient names'},
            {fg: '#2E60BE', bg: '#FFFFFF', theme: 'primary/white', usage: 'Manage tasks button'}
        ];

        // Extract hex code from color string (handles formats like "#FFFFFF (white)")
        function extractHex(colorStr) {
            const match = colorStr.match(/#[0-9A-Fa-f]{6}/);
            return match ? match[0] : colorStr;
        }

        // Populate table with color combinations
        function populateTable() {
            const tbody = document.getElementById('tableBody');
            
            colorCombinations.forEach(combo => {
                const row = document.createElement('tr');
                
                // Calculate contrast ratio
                const fgRgb = hexToRgb(combo.fg);
                const bgRgb = hexToRgb(combo.bg);
                let ratio = 0;
                let ratioText = 'N/A';
                let passesAA = false;
                
                if (fgRgb && bgRgb) {
                    ratio = getContrastRatio(fgRgb, bgRgb);
                    ratioText = formatRatio(ratio) + ':1';
                    passesAA = ratio >= 4.5; // Normal text AA requirement
                }
                
                // Foreground cell with color preview
                const fgCell = document.createElement('td');
                fgCell.innerHTML = `<span class="color-preview" style="background-color: ${combo.fg}"></span>${combo.fg}`;
                
                // Background cell with color preview
                const bgCell = document.createElement('td');
                bgCell.innerHTML = `<span class="color-preview" style="background-color: ${combo.bg}"></span>${combo.bg}`;
                
                // Theme label cell
                const themeCell = document.createElement('td');
                themeCell.textContent = combo.theme;
                
                // Usage example cell
                const usageCell = document.createElement('td');
                usageCell.textContent = combo.usage;
                
                // Ratio cell
                const ratioCell = document.createElement('td');
                ratioCell.className = 'ratio-cell';
                ratioCell.textContent = ratioText;
                if (ratio > 0) {
                    ratioCell.style.color = passesAA ? '#006605' : '#C62828';
                }
                
                // Passes AA cell
                const passCell = document.createElement('td');
                if (ratio > 0) {
                    passCell.innerHTML = passesAA 
                        ? '<span class="pass-badge">✓ PASS</span>' 
                        : '<span class="fail-badge">✗ FAIL</span>';
                } else {
                    passCell.textContent = 'N/A';
                }
                
                row.appendChild(fgCell);
                row.appendChild(bgCell);
                row.appendChild(themeCell);
                row.appendChild(usageCell);
                row.appendChild(ratioCell);
                row.appendChild(passCell);
                
                tbody.appendChild(row);
            });
        }

        // Initialize table on page load
        document.addEventListener('DOMContentLoaded', function() {
            populateTable();
        });
    </script>
</body>
</html>
