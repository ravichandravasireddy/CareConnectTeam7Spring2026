appId: com.example.flutter_app
tags: ["P0", "patient", "log"]
---
# Test: Add Health Log Entry
# Priority: High
# Description: Patient records a health log entry (e.g., mood, blood pressure).

#get globals if necessary
- runScript:
    when:
      true: ${!output.data}
    file: "../../scripts/test_data.js"

# get to dahsboard
- runFlow:
    when:
      notVisible: "Home"
    file: "../../helpers/common_flows/sign_in_patient.yaml"

# flow
- tapOn: "Health.*"
- assertVisible: "Health Logs"
- tapOn: ".*Mood.*"
- assertVisible: "New Health Log.*"
- tapOn: ".*${output.data.TEST_MOOD_VALUE}.*"
- tapOn: "Add note.*"
- inputText: "Feeling good today"
- tapOn: "Save Log.*"
- assertVisible: "Mood: ${output.data.TEST_MOOD_VALUE}.*"
- back
